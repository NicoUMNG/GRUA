<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control Motores ESP32</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Control Motores">
    
    <!-- PWA Icons -->
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDMyIDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0iIzY2N2VlYSIgcng9IjQiLz48dGV4dCB4PSI1IiB5PSIyMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZpbGw9IndoaXRlIj7wn5qXPC90ZXh0Pjwvc3ZnPg==">
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiQ29udHJvbCBNb3RvcmVzIEVTUDMyIiwic2hvcnRfbmFtZSI6Ik1vdG9yZXMiLCJzdGFydF91cmwiOiIuLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiM2NjdlZWEiLCJ0aGVtZV9jb2xvciI6IiM2NjdlZWEiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTVRreUlpQm9aV2xuYUhROUlqRTVNaUlpZG1sbGQwSnZlRDBpTUNBd0lETXlJRE15SWlCbWFXeHNQU0p1YjI1bElpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaVBqeHlaV04wSUhkcFpIUm9QU0l6TWlJZ2FHVnBaMmgwUFNJek1pSWdabWxzYkQwaUl6WTJOMlZsWVNJZ2NuZzlJalFpTHo0OGRHVjRkQ0I0UFNJMUlpQjVQU0l5TUNJaVptOXVkQzFtWVcxcGJIazlJbk5oYm5NdGMyVnlhV1lpSUdadmJuUXRjMmw2WlQwaU1USWlJR1pwYkd3OUluZG9hWFJsSWo0OGNtRmpjbUZqT3p3dmRHVjRkRDQ4TDNOMlp6ND0iLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2Uvc3ZnK3htbCJ9XX0=">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 24px;
        }
        
        .warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .warning h2 {
            color: #856404;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .warning p {
            color: #856404;
            line-height: 1.5;
            margin-bottom: 10px;
        }
        
        .alternatives {
            background: #e3f2fd;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .alternatives h3 {
            color: #1565c0;
            margin-bottom: 15px;
        }
        
        .alternative {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #2196f3;
        }
        
        .alternative h4 {
            color: #1976d2;
            margin-bottom: 8px;
        }
        
        .alternative p {
            color: #555;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .motor-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
            opacity: 0.5;
            pointer-events: none;
        }
        
        .motor-control {
            text-align: center;
            padding: 20px;
            border: 2px solid #eee;
            border-radius: 15px;
            background: #f5f5f5;
        }
        
        .motor-name {
            font-weight: bold;
            margin-bottom: 10px;
            color: #666;
        }
        
        .motor-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: none;
            font-size: 14px;
            font-weight: bold;
            background: #ccc;
            color: #666;
            margin: 5px;
        }
        
        .install-section {
            background: #e8f5e8;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .install-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .install-btn:hover {
            background: #45a049;
        }
        
        .qr-code {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöó Control de Motores ESP32</h1>
        
        <div class="warning">
            <h2>‚ö†Ô∏è Limitaci√≥n de iOS</h2>
            <p><strong>iOS no permite que las p√°ginas web accedan al Bluetooth</strong> por razones de seguridad.</p>
            <p>Esto afecta tanto a Safari como a Chrome en iPhone/iPad.</p>
        </div>
        
        <div class="alternatives">
            <h3>üîß Soluciones Disponibles:</h3>
            
            <div class="alternative">
                <h4>1. üì± Usar Android</h4>
                <p>La forma m√°s f√°cil. Chrome en Android tiene soporte completo para Bluetooth Web API.</p>
            </div>
            
            <div class="alternative">
                <h4>2. üñ•Ô∏è Usar Computadora</h4>
                <p>Chrome en Windows, Mac o Linux funciona perfectamente con esta aplicaci√≥n.</p>
            </div>
            
            <div class="alternative">
                <h4>3. üì≤ App Nativa para iOS</h4>
                <p>Crear una app espec√≠fica para iOS usando Swift y Core Bluetooth (requiere desarrollo nativo).</p>
            </div>
            
            <div class="alternative">
                <h4>4. üåê Servidor Intermedio</h4>
                <p>Usar una Raspberry Pi o computadora como puente entre iOS y el ESP32 v√≠a WiFi.</p>
            </div>
        </div>
        
        <div class="install-section">
            <h3>üì± Instalar como App</h3>
            <p>Aunque no funcione el Bluetooth, puedes instalar esta p√°gina como app:</p>
            <p><strong>Safari:</strong> Compartir ‚Üí A√±adir a pantalla de inicio</p>
            <button class="install-btn" onclick="installApp()">Instalar App</button>
        </div>
        
        <div class="qr-code">
            <h4>üì± Comparte con Android</h4>
            <p>C√≥digo QR para que alguien con Android pueda usar la app:</p>
            <div style="font-family: monospace; font-size: 12px; background: #f0f0f0; padding: 10px; border-radius: 5px; margin-top: 10px;">
                ${window.location.href}
            </div>
        </div>
        
        <!-- Interfaz deshabilitada para mostrar c√≥mo se ver√≠a -->
        <div class="motor-grid">
            <div class="motor-control">
                <div class="motor-name">Motor 1 (Pin 26)</div>
                <button class="motor-btn">OFF</button>
            </div>
            
            <div class="motor-control">
                <div class="motor-name">Motor 2 (Pin 25)</div>
                <button class="motor-btn">OFF</button>
            </div>
            
            <div class="motor-control">
                <div class="motor-name">Motor 3 (Pin 33)</div>
                <button class="motor-btn">OFF</button>
            </div>
            
            <div class="motor-control">
                <div class="motor-name">Motor 4 (Pin 32)</div>
                <button class="motor-btn">OFF</button>
            </div>
        </div>
        
        <div style="text-align: center; color: #666; font-style: italic;">
            Interfaz no funcional en iOS - Solo demostraci√≥n
        </div>
    </div>

    <script>
        let deferredPrompt;
        
        // Detectar si la app se puede instalar
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
        });
        
        function installApp() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('App instalada');
                    }
                    deferredPrompt = null;
                });
            } else {
                // Instrucciones manuales para iOS
                alert('Para instalar:\n1. Toca el bot√≥n "Compartir" en Safari\n2. Selecciona "A√±adir a pantalla de inicio"');
            }
        }
        
        // Detectar si ya est√° instalada como PWA
        if (window.matchMedia('(display-mode: standalone)').matches) {
            document.querySelector('.install-section').style.display = 'none';
        }
    </script>
</body>
</html>
